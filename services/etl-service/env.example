# ETL Service - Variables de Entorno Independientes
# Copiar a .env y configurar según tu entorno

# ================================================================
# CONFIGURACIÓN DEL SERVICIO
# ================================================================
ETL_SERVICE_NAME=etl-production
ETL_SERVICE_PORT=9000
ETL_ENV=production
ETL_LOG_LEVEL=INFO

# ================================================================
# BASE DE DATOS PRINCIPAL
# ================================================================
ETL_DB_HOST=mysql-server.com
ETL_DB_PORT=3306
ETL_DB_USER=readonly_user
ETL_DB_PASSWORD=your_secure_password
ETL_DB_DATABASE=production_db
ETL_DB_SSL=false
ETL_DB_TIMEOUT=30

# ================================================================
# BASES DE DATOS ADICIONALES (Opcional)
# ================================================================

# BD de Inventarios
ETL_DB_INVENTORY_HOST=inventory-mysql.com
ETL_DB_INVENTORY_PORT=3306
ETL_DB_INVENTORY_USER=inv_readonly
ETL_DB_INVENTORY_PASSWORD=inv_password
ETL_DB_INVENTORY_DATABASE=inventory_db
ETL_DB_INVENTORY_ENABLED=true

# BD de CRM
# ETL_DB_CRM_HOST=crm-mysql.com
# ETL_DB_CRM_DATABASE=crm_db
# ETL_DB_CRM_USER=crm_readonly
# ETL_DB_CRM_PASSWORD=crm_password

# ================================================================
# INTELIGENCIA ARTIFICIAL
# ================================================================

# Proveedor LLM (openai, ollama, anthropic, azure)
ETL_LLM_PROVIDER=openai
ETL_LLM_API_KEY=sk-your-openai-api-key-here
ETL_LLM_MODEL=gpt-4o-mini
ETL_LLM_TEMPERATURE=0.1
ETL_LLM_MAX_TOKENS=1000
ETL_LLM_TIMEOUT=30

# LLM Local con Ollama (alternativa)
# ETL_LLM_PROVIDER=ollama
# ETL_LLM_BASE_URL=http://ollama-server:11434/v1
# ETL_LLM_MODEL=llama3.1:8b
# ETL_LLM_API_KEY=dummy-key-for-local

# ================================================================
# KNOWLEDGE BASE DE DESTINO
# ================================================================

# KB Remoto (otro servidor FixeatAI)
ETL_KB_URL=http://kb-server:7070/tools/kb_ingest
ETL_KB_SEARCH_URL=http://kb-server:7070/tools/kb_search
ETL_KB_AUTH_TOKEN=optional-bearer-token
ETL_KB_TIMEOUT=30
ETL_KB_BATCH_SIZE=50

# KB Local (si está en la misma máquina)
# ETL_KB_LOCAL_PATH=/data/chroma_etl

# ================================================================
# CONFIGURACIÓN ETL
# ================================================================

# Pipeline
ETL_ENABLED=true
ETL_BATCH_SIZE=500
ETL_INCREMENTAL_HOURS=2
ETL_FULL_SYNC_TIME=02:00
ETL_RETRY_ATTEMPTS=3
ETL_TIMEOUT_SECONDS=300

# Calidad de Datos
ETL_QUALITY_THRESHOLD=0.8
ETL_MIN_TEXT_LENGTH=50
ETL_MAX_DOCS_PER_BATCH=100

# ================================================================
# SEGURIDAD
# ================================================================

# API
ETL_API_KEY=your-etl-api-key-for-endpoints
ETL_CORS_ORIGINS=http://localhost:3000,https://admin.company.com

# Encriptación
ETL_ENCRYPT_SENSITIVE_DATA=true
ETL_ENCRYPTION_KEY=your-32-character-encryption-key

# ================================================================
# LOGGING Y MONITOREO
# ================================================================

# Logs
ETL_LOG_FILE=/app/logs/etl-service.log
ETL_LOG_ROTATION=daily
ETL_LOG_RETENTION_DAYS=30

# Métricas
ETL_METRICS_ENABLED=true
ETL_METRICS_PORT=9001

# ================================================================
# ALERTAS Y NOTIFICACIONES
# ================================================================

# Webhook (Slack, Teams, etc.)
ETL_ALERT_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email
ETL_ALERT_EMAIL=admin@company.com

# Configuración de alertas
ETL_ALERT_ON_ERROR=true
ETL_ALERT_ON_LOW_QUALITY=true

# ================================================================
# DESARROLLO / TESTING (Opcional)
# ================================================================

# BD local para desarrollo
DEV_MYSQL_ROOT_PASSWORD=root_password
DEV_MYSQL_DATABASE=etl_test_db
DEV_MYSQL_USER=etl_user
DEV_MYSQL_PASSWORD=etl_password

# Modelos Ollama para desarrollo local
OLLAMA_MODELS=llama3.1:8b,mistral:7b
